{{ define "main" }}
  <!-- Featured Image -->
  {{ with index .Params.featuredVideo 0 }}
    <video autoplay muted loop class="featured-video">
      <source src="{{ . }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  {{ else }}
    <!-- If it's not a video, assume it's an image -->
    {{ with .Params.featuredImage }}
      <img src="{{ . }}" alt="Featured Image" class="featured-image">
    {{ end }}
  {{ end }}

  <!-- Two columns layout -->
  <div class="two-columns">
    <!-- Left column with title and sections -->
    <div class="left-column">
      <!-- Header with the title -->
      <h1>{{ .Title }}</h1>

      <!-- Three sections in grey below the title -->
      <div class="medium-text">
        {{ with .Params.curator }}
          <p>curated by: {{ . }}</p>
        {{ end }}
        
        {{ with .Params.placedate }}
          <p>@: {{ . }}</p>
        {{ end }}
        
        {{ with .Params.collaborators }}
          <p>in collaboration with: {{ . }}</p>
        {{ end }}
      </div>      
    </div>

    <!-- Right column with "Medium" and other content -->
    <div class="right-column">
      <!-- Medium information on the left -->
      {{ with .Params.medium }}
        <p class="medium-text">
          {{ range . }}
            {{ . }}<br>
          {{ end }}
        </p>
      {{ end }}

      <!-- Body text in columns -->
      <div class="body-columns">
        {{ .Content }}
      </div>
      
      <!-- Masonry Grid Gallery of Images -->
      <div class="masonry-grid">
        {{ range $index, $image := .Params.galleryImages }}
          <a href="{{ $image }}" class="lightbox-item" data-title="{{ replace (path.Base $image) (path.Ext $image) "" }}" data-description="{{ index ($.Params.imgDescrps) $index }}">
            <img src="{{ $image }}" alt="Gallery Image" class="gallery-image">
          </a>
        {{ end }}
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const lightbox = GLightbox({
        selector: '.lightbox-item',
        touchNavigation: true,
        loop: true
      });
    });
  </script>
  

{{ end }}
